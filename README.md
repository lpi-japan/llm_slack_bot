# LLMを利用して例題を生成するSlack Bot

LLMを用いて例題を定期的に生成し、コミュニティを覗くことの利点を1つ提供する。
ただのLLM生成結果を投稿するだけだと品質的に良くないが、Slackのスレッドを通じて人間がbotと会話しながら悪問の改善ができることで、全体として一定以上の質を保てるようにする。

## 1. 仕組み
- GitHub Actionで定期的にGPT APIを叩いて、結果をSlack APIでSlackのチャンネルに投稿する
- GitHub Actionで定期的にSlackチャンネルのスレッドを監視し、「最初の投稿がbot自身であり、かつスレッド内の最後の投稿がbot以外」のスレッドに対して、会話履歴を加味したGPT応答をAPIで生成し、結果をスレッド返信で投稿する
- Slackのワークスペース、チャンネルなどの指定はリポジトリ設定のSecrets/Variablesで指定

## 2. 要求事項 (懸念すべきこととそれを回避するための方針)

1. **誤情報の影響の最小化**:
   - 利用者が誤って間違った情報を真実と捉えないよう、レビュー済みかどうかの区別が容易であること。
     あるいは、未レビューのものは閲覧可能者を制限し、レビュー済みのものだけを広く公開する仕組みがあること。
   - 間違っている可能性のある情報は個別に削除するなどにより、SNS等別媒体での誤情報拡散のリスクを軽減できること。

2. **ユーザの混乱防止**:
   - 目的や免責事項を目立つ形で案内すること。
   - 最低限、後から見た人がぎょっとしないように、不必要に攻撃的な指摘の書き方は控えるような案内があること。

3. **運用のシンプルさと効果性の両立**:
   - Slackスレッド上の会話を通じて投稿された例題の改良ができること。
   - 必要に応じて、改良された結果をスクリプト等で一括収集することが可能であること。
     その際、レビュー済み (良問) かどうかの判別が機械的にできること (そのような運用ルールの案内があること)。
     具体的には特定のスタンプの有無や、「OK」のような特定のコメント返信などの手段を想定。

## 3. 要確認

### 3.1. どこにbotを設置するか
- チャンネルを新設する場合はどんなprefix numberにすべきかは全体運営ご協力の皆さまと別途ご相談するつもりです)
- この分科会チャンネルに同居したままというのは不便なので基本的には別チャンネルには逃がそうと思います。その際これまでのBot投稿スレッドは移設するつもりです

### 3.2. リポジトリの置き場所
- lpi-japanの下だと公式に誤解されかねないので、むしろ個人リポジトリにあった方がいいかも

### 3.3. 免責・禁止事項?の記載内容、表示方法
- 例題一問ごとに脚注スタイルで免責事項を必ず記載し、間違っている可能性の表示を徹底する？定型文を入れるだけなら簡単。
- 具体的な文面は？
  - 完璧でないので自己責任、LPIJの公式でもない、というのはマスト
  - (あまり責任取れないので) 転載は避けて欲しい、とするか？
  - 実験プロジェクトである、ということ

<!-- 人間のコメントを通じて悪問を無くす取り組みをするか、敢えてそれを全くせず自己責任という点を強調するか、2種類の実装案がある。以下は前者の場合の話 -->
### 3.4. レビュワーは増やすべき？増えすぎると良くない？
- (今時点ではレビューをしていただいている人数は少ない)
- 一方、一般的に、レビュワーが増えすぎると収集がつかなくなる可能性がある？見るのはBotなので大丈夫？
- (そもそもスレッド返信に反応して修正するという動きを止める？)

### 3.5. レビューステータスの表示方法
- thumbs upスタンプの**個数**?

### 3.6. 未レビュー、悪問を見づらくする仕掛け
- できたらいいな: 例題に関する更新履歴はスレッド内で逆順で表示する (修正された最後のものが表に見える)
- できたらいいな: レビューの少ないものはそれが分かりやすいような表示にする (薄く表示されるとか小さく表示されるとか)
- (実現容易そうな手段が思いつかず…)

### 3.7. 蓄積された後の使い道、本番問題との兼ね合い
- LLMの著作権の問題が未解決なので、別媒体にまとめたりはしない方がよいのでは
- 無限に作れることを考えると、本番問題を作る人は例題botをあんまり見たい方が望ましい？見なければ無関係と言えるか？

### 3.8. botとどのようにやり取りするかの基本的なルール
- OKとか良問とかの場合の記録の仕方 (統一しておくと、Fine Tuning時に使いやすいはず)


## 4. その他の改善ネタ
- 情報のソースが記載される方が嬉しい
- 正解をスレッド返信の中に入れた方が、見た瞬間に正解が見えないようにできるというのと、チャンネル自体の表示スペースを節約できる？
- 古い知識 (ifconfigとか) が出てきがちなので、それを防ぐ方法？
- 例題以外への活用: 勉強会の質疑応答botなど。素のChatGPTを各人が勝手に使うのに対してどのように優れている必要がある？